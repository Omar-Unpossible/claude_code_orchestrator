Condition evaluation failed: task_type == 'design' - name 'task_type' is not defined
Condition evaluation failed: test_failed == True - name 'test_failed' is not defined
Condition evaluation failed: rate_limit_detected == True - name 'rate_limit_detected' is not defined
Condition evaluation failed: consecutive_task_failures >= count_threshold - name 'consecutive_task_failures' is not defined
Condition evaluation failed: local_validation != remote_validation - name 'local_validation' is not defined
Condition evaluation failed: all_milestone_tasks_complete == True - name 'all_milestone_tasks_complete' is not defined
Condition evaluation failed: task_running_time > timeout_seconds - name 'task_running_time' is not defined
Condition evaluation failed: task_type == 'design' - name 'task_type' is not defined
Condition evaluation failed: test_failed == True - name 'test_failed' is not defined
Condition evaluation failed: rate_limit_detected == True - name 'rate_limit_detected' is not defined
Condition evaluation failed: consecutive_task_failures >= count_threshold - name 'consecutive_task_failures' is not defined
Condition evaluation failed: local_validation != remote_validation - name 'local_validation' is not defined
Condition evaluation failed: all_milestone_tasks_complete == True - name 'all_milestone_tasks_complete' is not defined
Condition evaluation failed: task_running_time > timeout_seconds - name 'task_running_time' is not defined
Condition evaluation failed: task_type == 'design' - name 'task_type' is not defined
Condition evaluation failed: test_failed == True - name 'test_failed' is not defined
Condition evaluation failed: rate_limit_detected == True - name 'rate_limit_detected' is not defined
Condition evaluation failed: consecutive_task_failures >= count_threshold - name 'consecutive_task_failures' is not defined
Condition evaluation failed: local_validation != remote_validation - name 'local_validation' is not defined
Condition evaluation failed: all_milestone_tasks_complete == True - name 'all_milestone_tasks_complete' is not defined
Condition evaluation failed: task_running_time > timeout_seconds - name 'task_running_time' is not defined
CLAUDE_ERROR_MAX_TURNS: session_id=bdad2e5e..., turns_used=10, max_turns_limit=10
ERROR_MAX_TURNS: task_id=1, turns_used=10, max_turns=10, attempt=1/2
Condition evaluation failed: task_type == 'design' - name 'task_type' is not defined
Condition evaluation failed: test_failed == True - name 'test_failed' is not defined
Condition evaluation failed: rate_limit_detected == True - name 'rate_limit_detected' is not defined
Condition evaluation failed: consecutive_task_failures >= count_threshold - name 'consecutive_task_failures' is not defined
Condition evaluation failed: local_validation != remote_validation - name 'local_validation' is not defined
Condition evaluation failed: all_milestone_tasks_complete == True - name 'all_milestone_tasks_complete' is not defined
Condition evaluation failed: task_running_time > timeout_seconds - name 'task_running_time' is not defined
Condition evaluation failed: task_type == 'design' - name 'task_type' is not defined
Condition evaluation failed: test_failed == True - name 'test_failed' is not defined
Condition evaluation failed: rate_limit_detected == True - name 'rate_limit_detected' is not defined
Condition evaluation failed: consecutive_task_failures >= count_threshold - name 'consecutive_task_failures' is not defined
Condition evaluation failed: local_validation != remote_validation - name 'local_validation' is not defined
Condition evaluation failed: all_milestone_tasks_complete == True - name 'all_milestone_tasks_complete' is not defined
Condition evaluation failed: task_running_time > timeout_seconds - name 'task_running_time' is not defined
CLAUDE_ERROR_MAX_TURNS: session_id=e0071ae9..., turns_used=20, max_turns_limit=20
ERROR_MAX_TURNS: task_id=1, turns_used=20, max_turns=20, attempt=2/2
MAX_TURNS EXHAUSTED: task_id=1, attempts=2, final_max_turns=20, last_turns_used=20
TASK ERROR: task_id=1, error=Task exceeded max_turns limit (20/20)
Traceback (most recent call last):
  File "/home/omarwsl/projects/claude_code_orchestrator/src/orchestrator.py", line 693, in execute_task
    result = self._execute_single_task(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/omarwsl/projects/claude_code_orchestrator/src/orchestrator.py", line 886, in _execute_single_task
    response = self.agent.send_prompt(prompt, context=agent_context)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/omarwsl/projects/claude_code_orchestrator/src/agents/claude_code_local.py", line 306, in send_prompt
    raise AgentException(
src.plugins.exceptions.AgentException: Task exceeded max_turns limit (20/20)
Traceback (most recent call last):
  File "/tmp/csv_regression_test.py", line 112, in run_csv_test
    result = orchestrator.execute_task(task.id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/omarwsl/projects/claude_code_orchestrator/src/orchestrator.py", line 693, in execute_task
    result = self._execute_single_task(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/omarwsl/projects/claude_code_orchestrator/src/orchestrator.py", line 886, in _execute_single_task
    response = self.agent.send_prompt(prompt, context=agent_context)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/omarwsl/projects/claude_code_orchestrator/src/agents/claude_code_local.py", line 306, in send_prompt
    raise AgentException(
src.plugins.exceptions.AgentException: Task exceeded max_turns limit (20/20)

================================================================================
CSV REGRESSION TEST - Task 4.3
================================================================================

‚úì Created test environment: /tmp/csv_test
‚úì Created sample CSV: /tmp/csv_test/sample.csv

CSV Content:
name,age,city
Alice,30,NYC
Bob,25,SF
Charlie,35,LA

  Expected average age: 30.0

‚úì Loading config from: /home/omarwsl/projects/claude_code_orchestrator/config/config.yaml
‚úì Initializing StateManager: sqlite:///data/csv_test.db

‚úì Creating test project...
  Project ID: 1

‚úì Creating task...
  Task ID: 1
  Description: 
Read the CSV file at /tmp/csv_test/sample.csv and calculate the average age of all people.

The CSV...

‚úì Initializing Orchestrator...
  Agent: ClaudeCodeLocalAgent
  LLM: LocalLLMInterface

================================================================================
EXECUTING CSV TASK
================================================================================
[34m[OBRA][0m Starting iteration 1/10
[34m[OBRA][0m Built context (308 chars)
[34m[OBRA‚ÜíCLAUDE][0m Sending prompt to Claude Code...
[34m[OBRA][0m Response received (1054 chars)
[34m[OBRA][0m Validation: ‚úì
[33m[QWEN][0m Validating response...
[33m[QWEN][0m   Quality: 0.78 (PASS)
[33m[QWEN][0m   Confidence: 0.35
[34m[OBRA][0m Decision: clarify
[34m[OBRA][0m Starting iteration 2/10
[34m[OBRA][0m Built context (355 chars)
[34m[OBRA‚ÜíCLAUDE][0m Sending prompt to Claude Code...
[34m[OBRA][0m Response received (981 chars)
[34m[OBRA][0m Validation: ‚úì
[33m[QWEN][0m Validating response...
[33m[QWEN][0m   Quality: 0.78 (PASS)
[33m[QWEN][0m   Confidence: 0.62
[34m[OBRA][0m Decision: clarify
[34m[OBRA][0m Starting iteration 3/10
[34m[OBRA][0m Built context (402 chars)
[34m[OBRA‚ÜíCLAUDE][0m Sending prompt to Claude Code...
[34m[OBRA][0m Response received (1005 chars)
[34m[OBRA][0m Validation: ‚úì
[33m[QWEN][0m Validating response...
[33m[QWEN][0m   Quality: 0.78 (PASS)
[33m[QWEN][0m   Confidence: 0.39
[34m[OBRA][0m Decision: clarify
[34m[OBRA][0m Starting iteration 4/10
[34m[OBRA][0m Built context (449 chars)
[34m[OBRA‚ÜíCLAUDE][0m Sending prompt to Claude Code...
[34m[OBRA][0m Starting iteration 1/10
[34m[OBRA][0m Built context (308 chars)
[34m[OBRA‚ÜíCLAUDE][0m Sending prompt to Claude Code...
[34m[OBRA][0m Response received (809 chars)
[34m[OBRA][0m Validation: ‚úì
[33m[QWEN][0m Validating response...
[33m[QWEN][0m   Quality: 0.78 (PASS)
[33m[QWEN][0m   Confidence: 0.32
[34m[OBRA][0m Decision: clarify
[34m[OBRA][0m Starting iteration 2/10
[34m[OBRA][0m Built context (355 chars)
[34m[OBRA‚ÜíCLAUDE][0m Sending prompt to Claude Code...
[34m[OBRA][0m Response received (1116 chars)
[34m[OBRA][0m Validation: ‚úì
[33m[QWEN][0m Validating response...
[33m[QWEN][0m   Quality: 0.78 (PASS)
[33m[QWEN][0m   Confidence: 0.62
[34m[OBRA][0m Decision: clarify
[34m[OBRA][0m Starting iteration 3/10
[34m[OBRA][0m Built context (402 chars)
[34m[OBRA‚ÜíCLAUDE][0m Sending prompt to Claude Code...

================================================================================
TASK EXECUTION FAILED
================================================================================
Error: Task exceeded max_turns limit (20/20)
Elapsed: 546.5s

================================================================================
TEST SUMMARY
================================================================================
‚ùå CSV regression test FAILED
